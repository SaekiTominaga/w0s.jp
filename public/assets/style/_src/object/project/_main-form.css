/*
フォーム

Styleguide 2.7.
*/

/*
コントロールエリア（グリッド形式の整形）

Markup:
<div class="p-form-grid {{modifier_class}}">
<div class="p-form-grid__group">
<fieldset>
<legend class="p-form-grid__legend">キャプション</legend>
<div class="p-form-grid__contents">
<input />
</div>
</fieldset>
</div>
</div>

.-complex - 複雑なフォーム

Styleguide 2.7.1
*/
.p-form-grid {
	--_gap-block: 1em;
	--_gap-inline: 1em;

	display: grid;
	grid-template-columns: auto 1fr;
	grid-template-areas: "legend contents";
	gap: var(--_gap-block) var(--_gap-inline);
}

.p-form-grid__group {
	display: grid;
	grid-template-columns: subgrid;
	grid-column: legend / contents;

	@supports not (grid-template-columns: subgrid) {
		display: contents; /* for Chrome, Safari, Edge */
	}

	/* 複雑なフォームは区切り線を付ける */
	@nest .p-form-grid.-complex & {
		border-block-end: 1px solid var(--color-border-light);
		padding-block-end: var(--_gap-block);
	}

	& > fieldset {
		display: contents;
	}
}

.p-form-grid__legend {
	grid-column: legend;
	margin-block-start: calc(0.5em + 1px);
	font-weight: var(--font-weight-bold);
}

.p-form-grid__contents {
	grid-column: contents;
}

@media (width <= 36em) {
	.p-form-grid {
		grid-template-columns: auto;
		grid-template-areas:
			"legend"
			"contents";
	}

	.p-form-grid__legend {
		margin: 0;
	}

	.p-form-grid__contents {
		margin-block-start: 0.25em;
	}
}

/*
エラー文言

Markup:
<div class="p-form-errors">
<p><strong>エラー</strong></p>
</div>

Styleguide 2.7.2
*/
.p-form-errors {
	border: 1px solid var(--color-red);
	border-radius: var(--border-radius-large);
	background: var(--color-verylightred);
	padding: 1em;
}

/*
送信結果

Markup:
<ul class="p-form-results">
<li class="p-form-results__item -success">
<span class="p-form-results__mark">✔</span>
<span class="p-form-results__message">テキストテキストテキスト</span>
</li>
<li class="p-form-results__item -error">
<span class="p-form-results__mark">⚠</span>
<span class="p-form-results__message">テキストテキストテキスト</span>
</li>
</ul>

Styleguide 2.7.3
*/
.p-form-results {
	border: 1px solid;
	border-radius: var(--border-radius-large);
	background: var(--color-white);
	padding: 1em;
	color: var(--color-black);
}

.p-form-results__item {
	display: flex;
	gap: 0.5em;
	color: var(--color);

	&.-success {
		--color: var(--color-green);
	}

	&.-error {
		--color: var(--color-red);
	}
}

.p-form-results__mark {
	min-inline-size: 1em;
	font-weight: var(--font-weight-bold);
	text-align: center;
}

.p-form-results__message {
}

/*
投稿画像プレビュー

Markup:
<ul class="p-image-preview">
<li><img src="https://media.w0s.jp/thumbimage/sample.jpg?type=webp;w=360;quality=30" alt="" /></li>
<li><strong class="error">「<span class="filename">foo.txt</span>」はプレビューできません。</strong></li>
</ul>

Styleguide 2.7.4
*/
.p-image-preview {
	display: flex;
	flex-flow: wrap;
	gap: 10px;
	font-size: calc(100% / var(--font-ratio-1));

	& > li {
		inline-size: 120px;
	}

	& img {
		inline-size: 100%;
		block-size: 100%;
		object-fit: contain;
		object-position: 0 0;
	}

	/* stylelint-disable selector-class-pattern */
	& .error {
		display: block;
		border: 1px solid var(--color-border-dark);
		padding: 10px;
		font-weight: var(--font-weight-normal);
	}

	& .filename {
		font-weight: var(--font-weight-bold);
		overflow-wrap: break-word;
	}
	/* stylelint-enable selector-class-pattern */
}
