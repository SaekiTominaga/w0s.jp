---
const buttonTitleId = crypto.randomUUID();
---

<div class="search">
	<span class="hidden">
		<input type="hidden" name="as_sitesearch" value="w0s.jp" />
	</span>
	<span class="query">
		<input type="search" name="q" required="" title="キーワード" />
	</span>
	<span class="submit">
		<button>
			<svg role="img" aria-labelledby={buttonTitleId}>
				<title id={buttonTitleId}>検索</title>
				<use href="/assets/image/icon/search.svg#icon"></use>
			</svg>
		</button>
	</span>
</div>

<style>
	.search {
		--_border-color: var(--color-lightgray);

		display: block flex;
		align-items: center;
		outline-offset: -1px;
		border: 1px solid var(--_border-color);
		border-radius: var(--border-radius-small);
		background: var(--color-white);
		color: var(--color-darkgray);

		&:focus-within {
			outline: var(--outline-width-bold) solid var(--outline-color);
		}

		&:hover {
			--_border-color: var(--outline-color);
		}
	}

	/* <input type="hidden"> */
	.hidden {
	}

	/* キーワード入力欄 */
	.query {
		flex: 1;

		& > :global(input) {
			all: initial;
			box-sizing: border-box;
			display: block flow;
			padding: 0.25em;
			inline-size: 100%;
			font: inherit;
		}
	}

	/* 送信ボタン */
	.submit {
		& > :global(button) {
			--_color: hsl(220deg 70% 45%);

			all: initial;
			box-sizing: border-box;
			display: block flow;
			margin: var(--outline-width-bold);
			padding: 0.25em;
			block-size: 2em;
			inline-size: 2em;
			color: var(--_color);
			font: inherit;
			fill: currentColor; /* SVG */
		}

		& > :global(button:focus:not(:focus-visible)) {
			--_color: hsl(220deg 70% 35%);
		}

		& > :global(button:focus-visible) {
			outline: var(--outline-width-bold) dotted var(--color-black);
		}

		& > :global(button:hover) {
			--_color: hsl(220deg 70% 55%);
		}

		& > :global(button > svg) {
			block-size: 100%;
			inline-size: 100%;
		}
	}
</style>
