<!DOCTYPE html>
<html lang="ja">
	<head>
		<title>『魔法少女まどか☆マギカ』公式サイト　ニュース一覧（<%= page.query.month.format('YYYY年M月') %>）</title>

		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<%_ if (nextMonth !== null) { _%>
		<link rel="prev" href="/madoka/official/news/<%= nextMonth.format('YYYY-MM') %>" title="新しい月（<%= nextMonth.format('YYYY年M月') %>）" />
		<%_ } _%> <%_ if (prevMonth !== null) { _%>
		<link rel="next" href="/madoka/official/news/<%= prevMonth.format('YYYY-MM') %>" title="古い月（<%= prevMonth.format('YYYY年M月') %>）" />
		<%_ } _%>
		<link rel="stylesheet" href="/assets/style/madoka.css" />
		<link rel="stylesheet" href="/assets/style/layout_full.css" title="通常表示" />
		<link rel="alternate stylesheet" href="/assets/style/layout_reader.css" title="リーダー表示" />
		<link rel="stylesheet" href="/assets/style/layout_reader.css" media="print" />

		<script src="/assets/script/trusted-types.js"></script>
		<script src="/assets/script/w0s.mjs" type="module"></script>
		<script src="https://analytics.w0s.jp/matomo/matomo.js" async=""></script>
		<script src="/assets/script/analytics.js" defer=""></script>
	</head>
	<body itemscope="" itemtype="http://schema.org/WebPage">
		<div class="l-page">
			<%- include('./_include/_header_madoka') -%>

			<div id="content" class="l-content">
				<div class="l-content__header">
					<div class="p-topic-path">
						<p itemprop="breadcrumb"><a href="/madoka/">ホーム</a><span class="p-topic-path__separator">&gt;</span><a href="/madoka/official/news/">公式サイトニュース一覧</a><span class="p-topic-path__separator">&gt;</span><a aria-current="page">現在のページ</a></p>
					</div>

					<div class="p-title">
						<h1 itemprop="name">公式サイト　<%= page.query.month.format('YYYY年M月') %>のニュース一覧<span class="p-title__sub-hdg">（<%= newsListMovie.length + newsListTv.length %>件）</span></h1>
					</div>

					<div class="p-description" itemprop="description">
						<p>『魔法少女まどか☆マギカ』公式サイトのニュースを月ごとに分類しました。</p>
						<p>こちらは<em>非公式のサービス</em>になりますので、正確なデータは各記事リンク先の公式ページを参照ください。</p>
					</div>

					<nav class="p-local-nav">
						<ul class="p-local-nav__list">
							<%_ if (nextMonth !== null) { _%>
							<li>
								<a href="/madoka/official/news/<%= nextMonth.format('YYYY-MM') %>" rel="prev" class="c-link">新しい月（<%= nextMonth.format('YYYY年M月') %>）</a>
							</li>
							<%_ } _%> <%_ if (prevMonth !== null) { _%>
							<li>
								<a href="/madoka/official/news/<%= prevMonth.format('YYYY-MM') %>" rel="next" class="c-link">古い月（<%= prevMonth.format('YYYY年M月') %>）</a>
							</li>
							<%_ } _%>
						</ul>
					</nav>
				</div>
				<main class="l-content__main">
					<%_ for (const news of newsListMovie) { _%>
					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2>
								<%= news.title %><span class="u-small">（<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>）</span>
							</h2>
						</div>

						<p><a href="https://www.madoka-magica.com/rebellion/news/?id=<%= news.id %>" class="c-link">公式サイトの記事ページ</a><b class="c-domain">(www.madoka-magica.com)</b></p>

						<div class="p-text">
							<%_ if (news.message.length > 100) { _%>
							<p><%= news.message.substring(0, 100) %><span class="p-madoka-official-news__message-marker">...</span></p>
							<%_ } else { _%>
							<p><%= news.message %></p>
							<%_ } _%>
						</div>

						<%_ if (news.image_file_name.length > 0) { _%>
						<div class="c-flex">
							<%_ for (const image of news.image_file_name) { _%>
							<div class="c-flex__item">
								<figure>
									<div class="p-embed -border">
										<picture>
											<source type="image/avif" srcset="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=avif;w=120;h=120;quality=60, https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=avif;w=240;h=240;quality=30 2x" />
											<source type="image/webp" srcset="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=webp;w=120;h=120;quality=60, https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=webp;w=240;h=240;quality=30 2x" />
											<img src="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=jpeg;w=120;h=120;quality=60" alt="" />
										</picture>
									</div>
								</figure>
							</div>
							<%_ } _%>
						</div>
						<%_ } _%>
					</section>
					<%_ } _%> <%_ for (const news of newsListTv) { _%>
					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2>
								<%= news.title %><span class="u-small">（<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>）</span>
							</h2>
						</div>

						<p><a href="https://www.madoka-magica.com/tv/news/#n<%= news.id %>" class="c-link">公式サイトの記事ページ</a><b class="c-domain">(www.madoka-magica.com)</b></p>

						<div class="p-text">
							<%_ if (news.description.length > 100) { _%>
							<p><%= news.description.substring(0, 100) %><span class="p-madoka-official-news__message-marker">...</span></p>
							<%_ } else { _%>
							<p><%= news.description %></p>
							<%_ } _%>
						</div>

						<%_ if (news.image_file_name.length > 0) { _%>
						<div class="c-flex">
							<%_ for (const image of news.image_file_name) { _%>
							<div class="c-flex__item">
								<figure>
									<div class="p-embed -border">
										<picture>
											<source type="image/avif" srcset="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=avif;w=120;h=120;quality=60, https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=avif;w=240;h=240;quality=30 2x" />
											<source type="image/webp" srcset="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=webp;w=120;h=120;quality=60, https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=webp;w=240;h=240;quality=30 2x" />
											<img src="https://media.w0s.jp/thumbimage/madoka/official/news/<%= image %>?type=jpeg;w=120;h=120;quality=60" alt="" />
										</picture>
									</div>
								</figure>
							</div>
							<%_ } _%>
						</div>
						<%_ } _%>
					</section>
					<%_ } _%>
				</main>
				<div class="l-content__footer">
					<nav class="p-local-nav">
						<ul class="p-local-nav__list">
							<%_ if (nextMonth !== null) { _%>
							<li>
								<a href="/madoka/official/news/<%= nextMonth.format('YYYY-MM') %>" rel="prev" class="c-link">新しい月（<%= nextMonth.format('YYYY年M月') %>）</a>
							</li>
							<%_ } _%> <%_ if (prevMonth !== null) { _%>
							<li>
								<a href="/madoka/official/news/<%= prevMonth.format('YYYY-MM') %>" rel="next" class="c-link">古い月（<%= prevMonth.format('YYYY年M月') %>）</a>
							</li>
							<%_ } _%>
						</ul>
					</nav>
				</div>
			</div>

			<%- include('./_include/_sidebar') -%><%- include('./_include/_footer') -%>
		</div>
	</body>
</html>
