<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
	<head>
		<title>『魔法少女まどか☆マギカ』公式サイト　ニュース一覧</title>

		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<link rel="stylesheet" href="/assets/style/madoka.css" />
		<link rel="stylesheet" href="/assets/style/layout_full.css" title="通常表示" />
		<link rel="alternate stylesheet" href="/assets/style/layout_reader.css" title="リーダー表示" />
		<link rel="stylesheet" href="/assets/style/layout_reader.css" media="print" />

		<script src="/assets/script/trusted-types.js"></script>
		<script src="/assets/script/w0s.mjs" type="module"></script>
		<script src="https://analytics.w0s.jp/matomo/matomo.js" async=""></script>
		<script src="/assets/script/analytics.js" defer=""></script>
	</head>
	<body itemscope="" itemtype="http://schema.org/WebPage">
		<div class="l-page">
			<%- include('./_include/_header_madoka') -%>

			<div id="content" class="l-content">
				<div class="l-content__header">
					<div class="p-topic-path">
						<p itemprop="breadcrumb"><a href="/madoka/">ホーム</a><span class="p-topic-path__separator">&gt;</span><a aria-current="page">現在のページ</a></p>
					</div>

					<div class="p-title">
						<h1 itemprop="name">公式サイト　ニュース一覧</h1>
					</div>

					<div class="p-description" itemprop="description">
						<p>『魔法少女まどか☆マギカ』公式サイトのニュースを月ごとに分類しました。</p>
						<p>こちらは<em>非公式のサービス</em>になりますので、正確なデータは各記事リンク先の公式ページを参照ください。</p>
					</div>
				</div>
				<main class="l-content__main">
					<form>
						<div class="c-form-controls -center">
							<p>
								<select name="month" class="c-select">
									<%_ for (const [year, yearData] of monthDataList) { _%>
									<optgroup label="<%= year %>年">
										<%_ for (const [month, count] of yearData) { _%>
										<option value="<%= year %>-<%= String(month).padStart(2, '0') %>"><%= year %>年<%= month %>月（<%= count %>件）</option>
										<%_ } _%>
									</optgroup>
									<%_ } _%>
								</select>
							</p>
							<p>
								<button class="c-submit">移動</button>
							</p>
						</div>
					</form>

					<figure>
						<div class="p-embed">
							<img src="image/graph_month.svg" alt="" width="1024" height="360" />
						</div>
						<figcaption class="c-caption">
							<span class="c-caption__title">月ごとのニュース件数推移</span>
						</figcaption>
					</figure>

					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2>ニュースタイトル一覧<span class="p-section__subhdg">（<%= newsListMovie.length + newsListTv.length %>件）</span></h2>
						</div>

						<ul class="c-note">
							<li><time datetime="2021-01">2021年1月</time>をもって収集を停止したので、それ以降のデータは<a href="https://www.madoka-magica.com/rebellion/news/">公式サイトのニュースページ</a>を参照ください。</li>
						</ul>

						<ul class="p-links">
							<%_ for (const news of newsListMovie) { _%>
							<li><a href="https://www.madoka-magica.com/rebellion/news/?id=<%= news.id %>"><%= news.title %></a>（<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>）</li>
							<%_ } _%> <%_ for (const news of newsListTv) { _%>
							<li><a href="https://www.madoka-magica.com/tv/news/#n<%= news.id %>"><%= news.title %></a> （<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>）</li>
							<%_ } _%>
						</ul>
					</section>
					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2>月ごとのニュース</h2>
						</div>

						<div class="c-grid -narrow">
							<%_ for (const [year, yearData] of monthDataList) { _%>
							<div class="c-grid__item">
								<section class="p-section -hdg-b">
									<div class="p-section__hdg">
										<h3><%= year %>年</h3>
									</div>

									<ul class="p-links">
										<%_ for (const [month, count] of yearData) { _%>
										<li><a href="/madoka/official/news/<%= year %>-<%= String(month).padStart(2, '0') %>"><%= year %>年<%= month %>月</a>（<%= count %>件）</li>
										<%_ } _%>
									</ul>
								</section>
							</div>
							<%_ } _%>
						</div>
					</section>
				</main>
			</div>

			<%- include('./_include/_sidebar') -%><%- include('./_include/_footer') -%>
		</div>
	</body>
</html>
