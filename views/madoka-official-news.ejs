<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
	<head>
		<title>『まどか☆マギカ』公式サイトニュース一覧</title>

		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="w0s:sidebar:amazon" content="madoka" />

		<link rel="stylesheet" href="/assets/style/madoka.css" />
		<link rel="stylesheet" href="/assets/style/layout_full.css" title="通常表示" />
		<link rel="alternate stylesheet" href="/assets/style/layout_reader.css" title="リーダー表示" id="stylesheet-print" />

		<script src="/assets/script/trusted-types.js"></script>
		<script src="/assets/script/w0s.mjs" type="module"></script>
		<script src="https://www.googletagmanager.com/gtag/js?id=G-SZYWFCF4JS" defer=""></script>
		<script src="/assets/script/google-analytics.js" defer=""></script>
	</head>
	<body itemscope="" itemtype="http://schema.org/WebPage">
		<div class="l-page">
			<%- include('./_include/_header_madoka') %>

			<main role="main" id="main" class="l-main">
				<div class="l-main__header">
					<div class="p-topic-path">
						<p itemprop="breadcrumb">
							<a href="/madoka/">ホーム</a><span class="p-topic-path__separator">&gt;</span><a href="/madoka/official/">公式データ</a
							><span class="p-topic-path__separator">&gt;</span><a aria-current="page">現在のページ</a>
						</p>
					</div>

					<div class="p-page-title">
						<h1 itemprop="name">『まどか☆マギカ』公式サイトニュース一覧</h1>
					</div>

					<div class="p-description" itemprop="description">
						<p>『魔法少女まどか☆マギカ』公式サイトのニュースを月ごとに分類しました。</p>
						<p>こちらは<em>非公式のサービス</em>になりますので、正確なデータは各記事リンク先の公式ページを参照ください。</p>
					</div>
				</div>
				<div class="l-main__main">
					<form class="p-block">
						<div class="p-fc-sbs -center">
							<div class="p-fc-sbs__fc">
								<select name="month" class="c-select">
									<% for (const [year, yearData] of monthDataList) { %>
									<optgroup label="<%= year %>年">
										<% for (const [month, count] of yearData) { %>
										<option value="<%= year %>-<%= String(month).padStart(2, '0') %>"><%= year %>年<%= month %>月（<%= count %>件）</option>
										<% } %>
									</optgroup>
									<% } %>
								</select>
							</div>
							<div class="p-fc-sbs__fc">
								<button class="c-button-submit">移動</button>
							</div>
						</div>
					</form>

					<div class="p-image">
						<figure class="p-image__image-area">
							<img src="image/graph_month.svg" alt="" class="c-image" />
							<figcaption class="c-embedded-caption -center">月ごとのニュース件数推移</figcaption>
						</figure>
					</div>

					<section class="p-section -hdg-a">
						<div class="p-hdg">
							<h2 class="p-hdg__hdg">全期間のニュース一覧<span class="p-hdg__sub-hdg">（<%= newsListMovie.length + newsListTv.length %>件）</span></h2>
						</div>

						<div class="p-note">
							<p class="p-note__note">
								<span class="p-note__mark">※</span>
								<span class="p-note__text"
									><time datetime="2021-01">2021年1月</time>をもって収集を停止したので、それ以降のデータは<a
										href="https://www.madoka-magica.com/rebellion/news/"
										>公式サイトのニュースページ</a
									>を参照ください。</span
								>
							</p>
						</div>

						<ul class="p-madoka-official-news -compact">
							<% for (const news of newsListMovie) { %>
							<li>
								<p class="p-madoka-official-news__date">
									<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>
								</p>
								<p class="p-madoka-official-news__title">
									<a href="https://www.madoka-magica.com/rebellion/news/?id=<%= news.id %>"><%= news.title %></a>
								</p>
							</li>
							<% } %> <% for (const news of newsListTv) { %>
							<li>
								<p class="p-madoka-official-news__date">
									<time datetime="<%= news.date.format('YYYY-MM-DD') %>"><%= news.date.format('YYYY年M月D日') %></time>
								</p>
								<p class="p-madoka-official-news__title">
									<a href="https://www.madoka-magica.com/tv/news/#n<%= news.id %>"><%= news.title %></a>
								</p>
							</li>
							<% } %>
						</ul>
					</section>
					<section class="p-section -hdg-a">
						<div class="p-hdg">
							<h2 class="p-hdg__hdg">他の月を見る</h2>
						</div>

						<div class="p-tile -narrow">
							<% for (const [year, yearData] of monthDataList) { %>
							<div class="p-tile__tile">
								<section class="p-section -hdg-b">
									<div class="p-hdg">
										<h3 class="p-hdg__hdg"><%= year %>年</h3>
									</div>

									<ul class="p-links">
										<% for (const [month, count] of yearData) { %>
										<li>
											<a href="/madoka/official/news/<%= year %>-<%= String(month).padStart(2, '0') %>"><%= year %>年<%= month %>月 (<%= count %>件)</a>
										</li>
										<% } %>
									</ul>
								</section>
							</div>
							<% } %>
						</div>
					</section>
				</div>
			</main>

			<%- include('./_include/_sidebar') %><%- include('./_include/_footer') %>
		</div>
	</body>
</html>
