<!DOCTYPE html>
<html lang="ja">
	<head>
		<title>„Ç¶„Çß„ÉñÂ∑°ÂõûÔºà„Éã„É•„Éº„ÇπÔºâ</title>

		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<link rel="stylesheet" href="/assets/style/admin.css" />
		<link rel="stylesheet" href="/assets/style/layout_full.css" title="ÈÄöÂ∏∏Ë°®Á§∫" />
		<link rel="alternate stylesheet" href="/assets/style/layout_reader.css" title="„É™„Éº„ÉÄ„ÉºË°®Á§∫" id="stylesheet-print" />

		<script src="/assets/script/w0s.mjs" type="module"></script>
	</head>
	<body>
		<div class="l-page">
			<%- include('./_include/_header') %>

			<div id="content" class="l-content -nosidebar">
				<div class="l-content__header">
					<div class="p-title">
						<h1>„Ç¶„Çß„ÉñÂ∑°ÂõûÔºà„Éã„É•„Éº„ÇπÔºâ</h1>
					</div>
				</div>
				<main class="l-content__main">
					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2>„Éá„Éº„ÇøÁôªÈå≤</h2>
						</div>

						<form action="<%= page.path %>" method="post" class="c-stack">
							<div class="p-form-grid">
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-url" class="c-label">URL <strong class="c-label-icon -required">ÂøÖÈ†à</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<% if (page.query.action_revise_preview || page.query.action_revise) { %>
												<input type="url" class="c-input -full js-convert-trim" id="fc-url" name="url" value="<%= page.query.url %>" required="" readonly="" />
												<% } else { %>
												<input type="url" class="c-input -full js-convert-trim" id="fc-url" name="url" value="<%= page.query.url %>" required="" />
												<% } %>
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-title" class="c-label">„Çø„Ç§„Éà„É´ <strong class="c-label-icon -required">ÂøÖÈ†à</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<input class="c-input -full js-convert-trim" id="fc-title" name="title" value="<%= page.query.title %>" required="" />
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-category" class="c-label">„Ç´„ÉÜ„Ç¥„É™„Éº <strong class="c-label-icon -required">ÂøÖÈ†à</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<select class="c-select" id="fc-category" name="category">
													<% for (const category of categoryMaster) { %> <% if (page.query.category === category.fk) { %>
													<option value="<%= category.fk %>" selected=""><%= category.name %></option>
													<% } else { %>
													<option value="<%= category.fk %>"><%= category.name %></option>
													<% } %> <% } %>
												</select>
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-priority" class="c-label">ÂÑ™ÂÖàÂ∫¶ <strong class="c-label-icon -required">ÂøÖÈ†à</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<select class="c-select" id="fc-priority" name="priority">
													<% for (const priority of priorityMaster) { %> <% if (page.query.priority === priority.fk) { %>
													<option value="<%= priority.fk %>" selected=""><%= priority.name %></option>
													<% } else { %>
													<option value="<%= priority.fk %>"><%= priority.name %></option>
													<% } %> <% } %>
												</select>
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-class" class="c-label">„Éñ„É©„Ç¶„Ç∂</label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<label class="c-label -check">
													<% if (page.query.browser) { %>
													<input type="checkbox" name="browser" value="1" checked="" />
													<% } else { %>
													<input type="checkbox" name="browser" value="1" />
													<% } %>
													<span class="c-label__text">„Ç¶„Çß„Éñ„Éñ„É©„Ç¶„Ç∂„Åß„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Åã</span></label
												>
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-selectorwrap" class="c-label">„Çª„É¨„ÇØ„Çø„ÉºÔºàÂåÖÊã¨Ôºâ <strong class="c-label-icon -required">ÂøÖÈ†à</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<input
													class="c-input -full js-convert-trim"
													id="fc-selectorwrap"
													name="selectorwrap"
													value="<%= page.query.selector_wrap %>"
													required=""
												/>
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-selectordate" class="c-label">„Çª„É¨„ÇØ„Çø„ÉºÔºàÊó•‰ªòÔºâ <strong class="c-label-icon -optional">‰ªªÊÑè</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<input class="c-input -full js-convert-trim" id="fc-selectordate" name="selectordate" value="<%= page.query.selector_date %>" />
											</div>
										</div>
									</fieldset>
								</div>
								<div class="p-form-grid__group">
									<fieldset>
										<legend class="p-form-grid__legend">
											<label for="fc-selectorcontent" class="c-label">„Çª„É¨„ÇØ„Çø„ÉºÔºàÂÜÖÂÆπÔºâ <strong class="c-label-icon -optional">‰ªªÊÑè</strong></label>
										</legend>
										<div class="p-form-grid__contents">
											<div class="c-form-controls">
												<input
													class="c-input -full js-convert-trim"
													id="fc-selectorcontent"
													name="selectorcontent"
													value="<%= page.query.selector_content %>"
												/>
											</div>
										</div>
									</fieldset>
								</div>
							</div>

							<div class="c-form-controls -submit">
								<% if (page.query.action_revise_preview || page.query.action_revise) { %>
								<p><button class="c-submit" name="actionrev" value="1">‰øÆÊ≠£</button></p>
								<% } else { %>
								<p><button class="c-submit" name="actionadd" value="1">ÁôªÈå≤</button></p>
								<% } %>
							</div>
						</form>
					</section>

					<% for (const [categoryName, newsPageOfCategory] of newsPageList) { %>
					<section class="p-section -hdg-a">
						<div class="p-section__hdg">
							<h2><%= categoryName %></h2>
						</div>

						<table class="p-table p-admin-crawler-table">
							<thead>
								<tr>
									<th></th>
									<th>ÂØæË±°„Éö„Éº„Ç∏</th>
									<th>ÂÑ™ÂÖà</th>
									<th>üåê</th>
									<th>ÂåÖÊã¨„Çª„É¨„ÇØ„Çø„Éº</th>
									<th>Êó•‰ªò„Çª„É¨„ÇØ„Çø„Éº</th>
									<th>ÂÜÖÂÆπ„Çª„É¨„ÇØ„Çø„Éº</th>
								</tr>
							</thead>
							<tbody>
								<% for (const newsPage of newsPageOfCategory) { %>
								<tr>
									<td>
										<form action="<%= page.path %>" method="post">
											<p><input type="hidden" name="url" value="<%= newsPage.url %>" /></p>
											<p>
												<button name="actionrevpre" value="1" formmethod="get" class="c-submit -compact">‰øÆÊ≠£</button>
												<button name="actiondel" value="1" is="w0s-confirm-button" data-message="ÂâäÈô§„Åó„Åæ„Åô„Åã?" class="c-submit -compact">ÂâäÈô§</button>
											</p>
										</form>
									</td>
									<td>
										<a href="<%= page.path %>/data?url=<%= newsPage.url %>"><%= newsPage.title %></a>
										<p class="u-small">
											<a href="<%= newsPage.url %>" referrerpolicy="no-referrer"><%= newsPage.url %></a>
										</p>
									</td>
									<td><%= newsPage.priority %></td>
									<td><% if (newsPage.browser) { %>‚úî<% } %></td>
									<td><%= newsPage.selector_wrap %></td>
									<td><%= newsPage.selector_date %></td>
									<td><%= newsPage.selector_content %></td>
								</tr>
								<% } %>
							</tbody>
						</table>
					</section>
					<% } %>
				</main>
			</div>

			<%- include('./_include/_footer') %>
		</div>
	</body>
</html>
